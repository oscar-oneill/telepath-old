import vreddit from"./domains/vreddit.js";import ireddit from"./domains/ireddit.js";import streamable from"./domains/streamable.js";import imgur from"./domains/imgur.js";import gfycat from"./domains/gfycat.js";let queryString=window.location,username=queryString.pathname.slice(6),objects=document.querySelector(".objects");const fetchProfile=async()=>{const e=await fetch("/redditor",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({queryString:queryString})}),t=await e.json();document.title=`u/${username}'s Profile | Telepath`;for(let e=0;e<t.length;e++){const r={year:"numeric",month:"long",day:"numeric"},i=t[e].created_utc,o=new Date(1e3*i).toLocaleDateString("en-US",r),n=t[e].domain,a=t[e].subreddit_name_prefixed,d=t[e].url,s=t[e].title,m=t[e].ups,c=t[e].author,u=t[e].link_flair_text,l=t[e],f=t[e].subreddit;gfycat(n,a,d,s,m,c,o,u,l,f),imgur(n,a,d,s,m,c,o,u,l,f),ireddit(n,a,d,s,m,c,o,u,l,f),streamable(n,a,d,s,m,c,o,u,l,f),vreddit(n,a,s,m,c,o,u,l,f)}};fetchProfile(),form.addEventListener("submit",e=>{const t=document.querySelector(".input-request").value;objects.innerHTML="",console.clear(),e.preventDefault(),location.href="/subreddit/"+t});